<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title></title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<!-- ###### start inserted header ##### -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115940772-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-115940772-1');
</script>

<!-- add the twitter card and open graph tags -->
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@djnavarro">
<meta property="og:url" content="http://compcogscisydney.org/psyr/">
<meta property="og:title" content="R for Psychological Science">
<meta property="og:description" content="An introductory resource">
<meta property="og:image" content="http://compcogscisydney.org/psyr/img/splash_turtle.png">

<!-- ###### end inserted header ##### -->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="mystyle.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R for Psychological Science</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Core
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="getting-started.html">Getting started</a>
    </li>
    <li>
      <a href="variables.html">Variables</a>
    </li>
    <li>
      <a href="scripts.html">Scripts</a>
    </li>
    <li>
      <a href="packages.html">Packages</a>
    </li>
    <li>
      <a href="workspaces.html">Workspaces</a>
    </li>
    <li>
      <a href="vectors.html">Vectors</a>
    </li>
    <li>
      <a href="loops.html">Loops</a>
    </li>
    <li>
      <a href="branches.html">Branches</a>
    </li>
    <li>
      <a href="functions.html">Functions</a>
    </li>
    <li>
      <a href="programming.html">Programming</a>
    </li>
    <li>
      <a href="file-system.html">File system</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="prelude-to-data.html">Prelude</a>
    </li>
    <li>
      <a href="data-types.html">Data types</a>
    </li>
    <li>
      <a href="describing-data.html">Describing data</a>
    </li>
    <li>
      <a href="visualising-data.html">Visualising data</a>
    </li>
    <li>
      <a href="manipulating-data.html">Manipulating data</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Stats
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="xx-distributions.html">Probability distributions</a>
    </li>
    <li>
      <a href="xx-introductory-statistics.html">Introductory statistics</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    More
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="xx-shiny.html">Shiny apps</a>
    </li>
    <li>
      <a href="xx-miscellaneous.html">Miscellaneous</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://compcogscisydney.org">compcogscisydney.org</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore"><ol start="16" style="list-style-type: decimal">
<li>Manipulating data</li>
</ol></h1>

</div>


<style type="text/css">
h1{
  line-height: 100px;
}
h2{
  line-height: 80px;
}
h3{
  line-height: 60px;
}
</style>
<p>Data manipulation isn’t a particularly well defined topic. I take it to cover a few topics:</p>
<ul>
<li>Importing and exporting data</li>
<li>Cleaning up errors in data</li>
<li>Reorganising data</li>
</ul>
<p>Earlier sections of the notes covered variations of this:</p>
<ul>
<li>Reading and writing from CSV files and .RData files</li>
<li>Creating data frames, tibbles and factors from other input</li>
<li>Using filter and select to extract subsets of a data frame</li>
<li>Using mutate to create or alter columns in a data frame</li>
<li>Using arrange to sort a data frame</li>
</ul>
<div id="an-illustrative-problem" class="section level2">
<h2><span class="header-section-number">16.1</span> An illustrative problem</h2>
<p>In the <a href="./visualising-data.html">data visualisation</a> we used a data set looking at inductive reasoning stored in the <a href="./data/frames_ex2.csv">frames_ex2.csv</a> file. Here it is again:</p>
<pre class="r"><code>frames &lt;- read_csv(&quot;./data/frames_ex2.csv&quot;)
frames</code></pre>
<pre><code>## # A tibble: 4,725 x 8
##       id gender   age condition sample_size n_obs test_item response
##    &lt;int&gt; &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;       &lt;int&gt;     &lt;int&gt;    &lt;int&gt;
##  1     1 male      36 category  small           2         1        8
##  2     1 male      36 category  small           2         2        7
##  3     1 male      36 category  small           2         3        6
##  4     1 male      36 category  small           2         4        6
##  5     1 male      36 category  small           2         5        5
##  6     1 male      36 category  small           2         6        6
##  7     1 male      36 category  small           2         7        3
##  8     1 male      36 category  medium          6         1        9
##  9     1 male      36 category  medium          6         2        7
## 10     1 male      36 category  medium          6         3        5
## # ... with 4,715 more rows</code></pre>
<p>In this file the data are stored in <em>long form</em>, in which there is one row for every trial in the experiment and thus the data from each participant are spread across several rows. I stored the data in that format because it was handy for drawing pictures, but as it happen this isn’t how the data set was stored when I extracted it from the <a href="https://osf.io/j4dxm/">OSF repository</a> in which I’d deposited it only a few months earlier! Here’s what it looked like when I found it:</p>
<pre class="r"><code>wide_frames &lt;- read_csv(&quot;./data/frames_ex2_wide.csv&quot;)
wide_frames</code></pre>
<pre><code>## # A tibble: 225 x 25
##       ID Gender   Age Sampling `SS2-R1` `SS2-R2` `SS2-R3` `SS2-R4` `SS2-R5`
##    &lt;int&gt; &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;       &lt;int&gt;    &lt;int&gt;    &lt;int&gt;    &lt;int&gt;    &lt;int&gt;
##  1     1 male      36 category        8        7        6        6        5
##  2     2 male      46 category        7        5        5        5        5
##  3     3 female    33 property        8        7        7        4        4
##  4     4 female    71 property        6        7        6        6        3
##  5     5 female    23 property        9        9        9        9        9
##  6     6 female    31 category        7        7        7        8        8
##  7     7 male      23 property        6        7        5        4        3
##  8     8 female    31 property        4        4        2        4        4
##  9     9 female    37 category        9        9        7        5        0
## 10    10 female    46 category        8        6        4        4        4
## # ... with 215 more rows, and 16 more variables: `SS2-R6` &lt;int&gt;,
## #   `SS2-R7` &lt;int&gt;, `SS6-R1` &lt;int&gt;, `SS6-R2` &lt;int&gt;, `SS6-R3` &lt;int&gt;,
## #   `SS6-R4` &lt;int&gt;, `SS6-R5` &lt;int&gt;, `SS6-R6` &lt;int&gt;, `SS6-R7` &lt;int&gt;,
## #   `SS12-R1` &lt;int&gt;, `SS12-R2` &lt;int&gt;, `SS12-R3` &lt;int&gt;, `SS12-R4` &lt;int&gt;,
## #   `SS12-R5` &lt;int&gt;, `SS12-R6` &lt;int&gt;, `SS12-R7` &lt;int&gt;</code></pre>
<p>In this file, the data are stored in <em>wide form</em>. The data frame contains only one row per person, and each judgment they make is stored as a separate variable. Wide and long form data are useful for a number of purposes. How do we switch between them, “reshaping” the data to the form we need?</p>
<p>Once upon a time this used to be a difficult task, so much so that I wrote my own (not very good) functions that would solve this problem in a way that didn’t expose my students to some of the more frustrating aspects of data manipulation. Thankfully, this has changed. There is a little package distributed with the tidyverse called <strong>tidyr</strong> and it is remarkably effective at solving a range of reshaping problems in a (fairly) intuitive way.</p>
</div>
<div id="gather-and-spread" class="section level2">
<h2><span class="header-section-number">16.2</span> Gather and spread</h2>
<pre class="r"><code>long_frames &lt;- wide_frames %&gt;% 
  gather(key = &quot;query&quot;, value=&quot;response&quot;,
         &quot;SS2-R1&quot;, &quot;SS2-R2&quot;,&quot;SS2-R3&quot;,&quot;SS2-R4&quot;,&quot;SS2-R5&quot;,&quot;SS2-R6&quot;,&quot;SS2-R7&quot;,
         &quot;SS6-R1&quot;,&quot;SS6-R2&quot;,&quot;SS6-R3&quot;,&quot;SS6-R4&quot;,&quot;SS6-R5&quot;,&quot;SS6-R6&quot;,&quot;SS6-R7&quot;, 
         &quot;SS12-R1&quot;,&quot;SS12-R2&quot;,&quot;SS12-R3&quot;,&quot;SS12-R4&quot;,&quot;SS12-R5&quot;,&quot;SS12-R6&quot;,&quot;SS12-R7&quot;)
long_frames</code></pre>
<pre><code>## # A tibble: 4,725 x 6
##       ID Gender   Age Sampling query  response
##    &lt;int&gt; &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;int&gt;
##  1     1 male      36 category SS2-R1        8
##  2     2 male      46 category SS2-R1        7
##  3     3 female    33 property SS2-R1        8
##  4     4 female    71 property SS2-R1        6
##  5     5 female    23 property SS2-R1        9
##  6     6 female    31 category SS2-R1        7
##  7     7 male      23 property SS2-R1        6
##  8     8 female    31 property SS2-R1        4
##  9     9 female    37 category SS2-R1        9
## 10    10 female    46 category SS2-R1        8
## # ... with 4,715 more rows</code></pre>
<p>To go back the other way, we could do this:</p>
<pre class="r"><code>long_frames %&gt;% spread(key = &quot;query&quot;, value = &quot;response&quot;)</code></pre>
<pre><code>## # A tibble: 225 x 25
##       ID Gender   Age Sampling `SS12-R1` `SS12-R2` `SS12-R3` `SS12-R4`
##    &lt;int&gt; &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;        &lt;int&gt;     &lt;int&gt;     &lt;int&gt;     &lt;int&gt;
##  1     1 male      36 category         8         7         6         6
##  2     2 male      46 category         9         9         8         8
##  3     3 female    33 property         8         9         9         2
##  4     4 female    71 property         9         8         3         2
##  5     5 female    23 property         9         9         9         9
##  6     6 female    31 category         9         9         8         8
##  7     7 male      23 property         8         7         6         2
##  8     8 female    31 property         8         8         7         7
##  9     9 female    37 category         9         8         1         0
## 10    10 female    46 category         9         9         8         6
## # ... with 215 more rows, and 17 more variables: `SS12-R5` &lt;int&gt;,
## #   `SS12-R6` &lt;int&gt;, `SS12-R7` &lt;int&gt;, `SS2-R1` &lt;int&gt;, `SS2-R2` &lt;int&gt;,
## #   `SS2-R3` &lt;int&gt;, `SS2-R4` &lt;int&gt;, `SS2-R5` &lt;int&gt;, `SS2-R6` &lt;int&gt;,
## #   `SS2-R7` &lt;int&gt;, `SS6-R1` &lt;int&gt;, `SS6-R2` &lt;int&gt;, `SS6-R3` &lt;int&gt;,
## #   `SS6-R4` &lt;int&gt;, `SS6-R5` &lt;int&gt;, `SS6-R6` &lt;int&gt;, `SS6-R7` &lt;int&gt;</code></pre>
</div>
<div id="splitting-a-variable" class="section level2">
<h2><span class="header-section-number">16.3</span> Splitting a variable</h2>
<p>The <code>long_frames</code> data frame we created is close to what we need, but the <code>query</code> variable isn’t quite right. A value of <code>&quot;SS2-R1&quot;</code> corresponds to a trial on which the sample size was 2 and the test item was 1. This should properly be two variables, one specifying the <code>sample_size</code> and the other specifying the value of the <code>test_item</code>.</p>
<pre class="r"><code>long_frames %&gt;% 
  separate(
    col = query, 
    into = c(&quot;sample_size&quot;,&quot;test_item&quot;), 
    sep = &quot;-R&quot;
  )</code></pre>
<pre><code>## # A tibble: 4,725 x 7
##       ID Gender   Age Sampling sample_size test_item response
##    &lt;int&gt; &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;        &lt;int&gt;
##  1     1 male      36 category SS2         1                8
##  2     2 male      46 category SS2         1                7
##  3     3 female    33 property SS2         1                8
##  4     4 female    71 property SS2         1                6
##  5     5 female    23 property SS2         1                9
##  6     6 female    31 category SS2         1                7
##  7     7 male      23 property SS2         1                6
##  8     8 female    31 property SS2         1                4
##  9     9 female    37 category SS2         1                9
## 10    10 female    46 category SS2         1                8
## # ... with 4,715 more rows</code></pre>
<p>Getting closer. Note that there is a <code>unite()</code> function that reverses this operation, so if you ever need to collapse multiple columns into a single variable that would be the way to do it. It’s also worth noting that the two new variables aren’t quite in the format we want them to be. For instance, the <code>test_item</code> variable should be numeric rather than character, so lets <code>mutate</code> that and store the results:</p>
<pre class="r"><code>long_frames &lt;- long_frames %&gt;% 
  separate(
    col = query, 
    into = c(&quot;sample_size&quot;,&quot;test_item&quot;), 
    sep = &quot;-R&quot;
  ) %&gt;%
  mutate(test_item = as.numeric(test_item))
long_frames</code></pre>
<pre><code>## # A tibble: 4,725 x 7
##       ID Gender   Age Sampling sample_size test_item response
##    &lt;int&gt; &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;           &lt;dbl&gt;    &lt;int&gt;
##  1     1 male      36 category SS2                 1        8
##  2     2 male      46 category SS2                 1        7
##  3     3 female    33 property SS2                 1        8
##  4     4 female    71 property SS2                 1        6
##  5     5 female    23 property SS2                 1        9
##  6     6 female    31 category SS2                 1        7
##  7     7 male      23 property SS2                 1        6
##  8     8 female    31 property SS2                 1        4
##  9     9 female    37 category SS2                 1        9
## 10    10 female    46 category SS2                 1        8
## # ... with 4,715 more rows</code></pre>
</div>
<div id="recoding-variables" class="section level2">
<h2><span class="header-section-number">16.4</span> Recoding variables</h2>
<p>What should we do with the <code>sample_size</code> variable?</p>
<pre class="r"><code>long_frames &lt;- long_frames %&gt;%
  mutate(sample_size = case_when(
    sample_size == &quot;SS2&quot; ~ &quot;small&quot;,
    sample_size == &quot;SS6&quot; ~ &quot;medium&quot;,
    sample_size == &quot;SS12&quot; ~ &quot;large&quot;
  ))
long_frames</code></pre>
<pre><code>## # A tibble: 4,725 x 7
##       ID Gender   Age Sampling sample_size test_item response
##    &lt;int&gt; &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;           &lt;dbl&gt;    &lt;int&gt;
##  1     1 male      36 category small               1        8
##  2     2 male      46 category small               1        7
##  3     3 female    33 property small               1        8
##  4     4 female    71 property small               1        6
##  5     5 female    23 property small               1        9
##  6     6 female    31 category small               1        7
##  7     7 male      23 property small               1        6
##  8     8 female    31 property small               1        4
##  9     9 female    37 category small               1        9
## 10    10 female    46 category small               1        8
## # ... with 4,715 more rows</code></pre>
<p>Now all we have to do is rename the variables…</p>
<pre class="r"><code>names(long_frames) &lt;- tolower(names(long_frames))
names(long_frames)[4] &lt;- &quot;condition&quot;
long_frames</code></pre>
<pre><code>## # A tibble: 4,725 x 7
##       id gender   age condition sample_size test_item response
##    &lt;int&gt; &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;    &lt;int&gt;
##  1     1 male      36 category  small               1        8
##  2     2 male      46 category  small               1        7
##  3     3 female    33 property  small               1        8
##  4     4 female    71 property  small               1        6
##  5     5 female    23 property  small               1        9
##  6     6 female    31 category  small               1        7
##  7     7 male      23 property  small               1        6
##  8     8 female    31 property  small               1        4
##  9     9 female    37 category  small               1        9
## 10    10 female    46 category  small               1        8
## # ... with 4,715 more rows</code></pre>
<p>…and we have a data frame that is almost identical to the one we imported in the previous section. The only thing missing is the <code>n_obs</code> variable: a numeric variable that records the actual sample sizes (2, 6 and 12) for the three <code>sample_size</code> conditions. As an exercise: how would you add this variable to <code>long_frames</code> using <code>case_when</code>?</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
